/*! cwa 
 *  City Weather App with Angular 1.6.x 
 *  @author Emrah Kumru <emrahkumru@live.com> 
 *  @version 1.0.0 
 *  @build Thu Feb 01 2018 14:52:09 GMT+0300 (+03) 
 */
"use strict";angular.module("cwa",["ngRoute","cwa.cities","cwa.citySingleView"]).config(["$locationProvider","$routeProvider",function(t,e){t.hashPrefix("!"),e.otherwise({redirectTo:"/cities"})}]).factory("Services",function(t){return{getJson:function(){return t.get("data/data.json")}}}),angular.module("cwa.cities",["ngRoute"]).config(["$routeProvider",function(t){t.when("/cities",{templateUrl:"templates/cities.html",controller:"citiesCtrl"})}]).controller("citiesCtrl",function(t,e){t.title="Welcome to Cities Weather App",t.searchStatus=!1,t.searchResult=[],e.getJson().then(function(e){t.Cities=angular.fromJson(e.data)})}).directive("citySearch",function(){return{restrict:"A",scope:{Cities:"=",searchStatus:"=",searchResult:"="},link:function(t,e,r){t.$watch(function(){e.bind("keydown keypress",function(e){if(this.value.length<=3)return!0;t.$parent.searchStatus&&(t.$parent.searchStatus=!1,t.$parent.searchResult=[]);var r=this,n=t.$parent.Cities.filter(function(t){var e=t.name.toLowerCase(),n=r.value.toLowerCase();return e.indexOf(n)>-1});n?(t.$parent.searchStatus=!0,t.$parent.searchResult=n):(t.$parent.searchStatus=!1,t.$parent.searchResult=[]),t.$apply()})})}}}),angular.module("cwa.citySingleView",["ngRoute"]).config(["$routeProvider",function(t){t.when("/city/:ID",{templateUrl:"templates/city-single.html",controller:"citySingleViewCtrl"})}]).controller("citySingleViewCtrl",function(t,e,r){var n=parseInt(e.ID);r.getJson().then(function(e){var r=angular.fromJson(e.data);t.city=r.filter(function(t){return t.id===n})})});