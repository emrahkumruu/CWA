{"version":3,"sources":["app.js","components/cities/cities.js","components/cities-single-view/cities-single-view.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cwa.js","sourcesContent":["/**\n * @author Emrah Kumru\n */\n\n'use strict';\n\nangular.module('cwa', [\n    'ngRoute',\n    'cwa.cities',\n    'cwa.citySingleView'\n]).config(['$locationProvider', '$routeProvider', function ($locationProvider, $routeProvider) {\n\n    $locationProvider.hashPrefix('!');\n\n    $routeProvider.otherwise({redirectTo: '/cities'});\n\n}])\n    .factory('Services', function ($http) {\n\n        return {\n            getJson: function () {\n                return $http.get(\"data/data.json\")\n            }\n        }\n    });","/**\n * @author Emrah Kumru\n */\n\n'use strict';\n\nangular.module('cwa.cities', ['ngRoute'])\n\n    .config(['$routeProvider', function ($routeProvider) {\n        $routeProvider.when('/cities', {\n            templateUrl: 'templates/cities.html',\n            controller: 'citiesCtrl'\n        });\n    }])\n\n    .controller('citiesCtrl', function ($scope, Services) {\n\n        $scope.title = 'Welcome to Cities Weather App';\n        $scope.searchStatus = false;\n        $scope.searchResult = [];\n\n\n        Services.getJson().then(function (response) {\n            $scope.Cities = angular.fromJson(response.data);\n        });\n\n\n    })\n    .directive('citySearch', function () {\n\n        return {\n            restrict: 'A',\n            scope: {\n                Cities: '=',\n                searchStatus: '=',\n                searchResult: '='\n            },\n            link: function (scope, element, attrs) {\n\n                scope.$watch(function () {\n\n                    element.bind(\"keydown keypress\", function (event) {\n\n\n                        if (this.value.length <= 3) {\n                            return true;\n                        } else if (scope.$parent.searchStatus) {\n                            scope.$parent.searchStatus = false;\n                            scope.$parent.searchResult = [];\n\n                        }\n                        var _self = this;\n\n                        var result = scope.$parent.Cities.filter(function (city) {\n                            var cityName = city.name.toLowerCase(),\n                                value = _self.value.toLowerCase();\n\n                            return cityName.indexOf(value) > -1\n                        });\n\n                        if (result) {\n                            scope.$parent.searchStatus = true;\n                            scope.$parent.searchResult = result;\n\n                        } else {\n                            scope.$parent.searchStatus = false;\n                            scope.$parent.searchResult = [];\n\n                        }\n                        scope.$apply();\n\n                    });\n\n                });\n\n            }\n\n        }\n    });","/**\n * @author Emrah Kumru\n */\n\n'use strict';\n\nangular.module('cwa.citySingleView', ['ngRoute'])\n\n    .config(['$routeProvider', function ($routeProvider) {\n        $routeProvider.when('/city/:ID', {\n            templateUrl: 'templates/city-single.html',\n            controller: 'citySingleViewCtrl'\n        });\n    }])\n\n    .controller('citySingleViewCtrl', function ($scope, $routeParams, Services) {\n\n        var id = parseInt($routeParams.ID);\n\n        Services.getJson().then(function (response) {\n            var data = angular.fromJson(response.data);\n\n            $scope.city = data.filter(function (city) {\n                return city.id === id;\n            })\n        });\n\n    });"]}